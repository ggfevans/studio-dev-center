"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[8315],{3905:(t,e,i)=>{i.d(e,{Zo:()=>c,kt:()=>y});var a=i(7294);function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e){if(null==t)return{};var i,a,n=function(t,e){if(null==t)return{};var i,a,n={},r=Object.keys(t);for(a=0;a<r.length;a++)i=r[a],e.indexOf(i)>=0||(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)i=r[a],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var p=a.createContext({}),s=function(t){var e=a.useContext(p),i=e;return t&&(i="function"==typeof t?t(e):o(o({},e),t)),i},c=function(t){var e=s(t.components);return a.createElement(p.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var i=t.components,n=t.mdxType,r=t.originalType,p=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),u=s(i),m=n,y=u["".concat(p,".").concat(m)]||u[m]||d[m]||r;return i?a.createElement(y,o(o({ref:e},c),{},{components:i})):a.createElement(y,o({ref:e},c))}));function y(t,e){var i=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var r=i.length,o=new Array(r);o[0]=m;var l={};for(var p in e)hasOwnProperty.call(e,p)&&(l[p]=e[p]);l.originalType=t,l[u]="string"==typeof t?t:n,o[1]=l;for(var s=2;s<r;s++)o[s]=i[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,i)}m.displayName="MDXCreateElement"},3021:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=i(7462),n=(i(7294),i(3905));const r={title:"Activity Block Tags",description:"VertiGIS Studio Workflow - Learn about the typescript activity metadata tags"},o=void 0,l={unversionedId:"workflow/sdk-web-activity-block-tags",id:"workflow/sdk-web-activity-block-tags",title:"Activity Block Tags",description:"VertiGIS Studio Workflow - Learn about the typescript activity metadata tags",source:"@site/docs/workflow/sdk-web-activity-block-tags.mdx",sourceDirName:"workflow",slug:"/workflow/sdk-web-activity-block-tags",permalink:"/docs/workflow/sdk-web-activity-block-tags",draft:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/workflow/sdk-web-activity-block-tags.mdx",tags:[],version:"current",frontMatter:{title:"Activity Block Tags",description:"VertiGIS Studio Workflow - Learn about the typescript activity metadata tags"},sidebar:"workflow",previous:{title:"Integrating the ArcGIS API for JavaScript",permalink:"/docs/workflow/sdk-web-integrating-the-arcgis-api"},next:{title:"Reference a Third Party Library",permalink:"/docs/workflow/sdk-web-reference-third-party-library"}},p={},s=[{value:"Basic Tags",id:"basic-tags",level:2},{value:"Activity Compatibility Tags",id:"activity-compatibility-tags",level:2},{value:"Example: Activity Compatibility Tags",id:"example-activity-compatibility-tags",level:3}],c={toc:s},u="wrapper";function d(t){let{components:e,...i}=t;return(0,n.kt)(u,(0,a.Z)({},c,i,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/docs/workflow/tutorial-web-calculate-logarithm-activity"},"Custom Workflow activities")," implemented in ",(0,n.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript")," use ",(0,n.kt)("a",{parentName:"p",href:"https://jsdoc.app/about-block-inline-tags.html"},"block tags")," to describe the activity metadata that the ",(0,n.kt)("a",{parentName:"p",href:"https://apps.vertigisstudio.com/workflow/designer/"},"VertiGIS Studio Workflow Designer")," consumes."),(0,n.kt)("h2",{id:"basic-tags"},"Basic Tags"),(0,n.kt)("p",null,"The following activity demonstrates the basic metadata tags that could exist on a custom activity and its inputs and outputs."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},'import type { IActivityHandler } from "@vertigis/workflow/IActivityHandler";\n\nexport interface Inputs {\n    /**\n     * @displayName The name of the activity input that appears in the properties panel.\n     * @description The description of the activity input that appears in inline help tooltips.\n     * @required Whether the activity input should be presented as required.\n     */\n    input?: any;\n}\n\nexport interface Outputs {\n    /**\n     * @description The description of the activity output that appears in inline help tooltips.\n     */\n    result: any;\n}\n\n/**\n * @category The name of the toolbox category the activity will appear in.\n * @displayName The name of the activity that appears in the toolbox and properties panel.\n * @description The description of the activity that appears in inline help tooltips.\n * @helpUrl An absolute URL to additional documentation for this activity.\n */\nexport class Activity implements IActivityHandler {\n    async execute(inputs: Inputs): Promise<Outputs> {\n        return { result: {} };\n    }\n\n')),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"If ",(0,n.kt)("inlineCode",{parentName:"p"},"@displayName")," is omitted, the identifier name will be capitalized, split up by camelCase, and used as a default display name. For example, ",(0,n.kt)("inlineCode",{parentName:"p"},"myLongParameterName"),' becomes "My Long Parameter Name".')),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"The ",(0,n.kt)("inlineCode",{parentName:"p"},"@required")," tag only applies to the validation in Workflow Designer. Runtime validation of required inputs must be implemented by the ",(0,n.kt)("inlineCode",{parentName:"p"},"execute(inputs)")," method of the activity.")),(0,n.kt)("h2",{id:"activity-compatibility-tags"},"Activity Compatibility Tags"),(0,n.kt)("p",null,"You can specify which environments an activity is compatible with by adding the appropriate tags to the activity class. This will cause VertiGIS Studio Workflow Designer to only display the activity when the workflow's ",(0,n.kt)("a",{parentName:"p",href:"https://docs.vertigisstudio.com/workflow/latest/help/Default.htm#wf5/help/deployment-settings.htm"},"deployment settings")," indicate it is compatible, and generate warnings if the activity is used in an incompatible environment. You can use the following tags on the activity class;"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"@onlineOnly"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Indicates that the activity will not work without network connectivity. It is sufficient to add the tag without any text beside it."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"@clientOnly"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Indicates that the activity will only run in a client environment such as web browser or mobile app. It is sufficient to add the tag without any text beside it."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"@serverOnly"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Indicates that the activity will only run on a server running Workflow Server. It is sufficient to add the tag without any text beside it."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"@supportedApps"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"A comma-separated list of apps supported by the activity. Workflows targeting an app that is not listed here should not use this activity."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"@unsupportedApps"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"A comma-separated list of apps not supported by the activity. Workflows targeting an app that is listed here should not use this activity.")))),(0,n.kt)("p",null,"App values that currently supported in VertiGIS Studio Workflow Designer:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"WAB")," (Web AppBuilder for ArcGIS)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"GVH")," (Geocortex Viewer for HTML5)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"VSW")," (VertiGIS Studio Web)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"VSM")," (VertiGIS Studio Mobile)")),(0,n.kt)("p",null,"If you do not want to limit the use of an activity, do not add any of the above tags. It will appear in the toolbox and will not generate any warnings when used."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"The intention is that you use either ",(0,n.kt)("inlineCode",{parentName:"p"},"@supportedApps")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"@unsupportedApps"),", depending on the situation. Do not use both.")),(0,n.kt)("h3",{id:"example-activity-compatibility-tags"},"Example: Activity Compatibility Tags"),(0,n.kt)("p",null,'The following example declares that an activity will only work on VertiGIS Studio Web or Web AppBuilder for ArcGIS in an online and client side environment. The display name will default to "Does Not Work On Mobile".'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"/**\n * @supportedApps WAB, GWV\n * @onlineOnly\n * @clientOnly\n */\nexport class DoesNotWorkOnMobile implements IActivityHandler {\n    ...\n}\n")))}d.isMDXComponent=!0}}]);