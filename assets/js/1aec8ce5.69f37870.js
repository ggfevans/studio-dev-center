"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[8912],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>u});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},m=Object.keys(e);for(o=0;o<m.length;o++)n=m[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(o=0;o<m.length;o++)n=m[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),a=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=a(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,m=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),f=a(n),u=r,d=f["".concat(s,".").concat(u)]||f[u]||c[u]||m;return n?o.createElement(d,i(i({ref:t},p),{},{components:n})):o.createElement(d,i({ref:t},p))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var m=n.length,i=new Array(m);i[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var a=2;a<m;a++)i[a]=n[a];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},3881:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>p,frontMatter:()=>m,metadata:()=>l,toc:()=>s});var o=n(7462),r=(n(7294),n(3905));const m={title:"Workflow Form Element Reference",sidebar_label:"Form Element Reference",description:"VertiGIS Studio Workflow - Reference for workflow form elements for web applications"},i=void 0,l={unversionedId:"workflow/sdk-mobile-form-reference",id:"workflow/sdk-mobile-form-reference",isDocsHomePage:!1,title:"Workflow Form Element Reference",description:"VertiGIS Studio Workflow - Reference for workflow form elements for web applications",source:"@site/docs/workflow/sdk-mobile-form-reference.mdx",sourceDirName:"workflow",slug:"/workflow/sdk-mobile-form-reference",permalink:"/docs/workflow/sdk-mobile-form-reference",editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/workflow/sdk-mobile-form-reference.mdx",version:"current",frontMatter:{title:"Workflow Form Element Reference",sidebar_label:"Form Element Reference",description:"VertiGIS Studio Workflow - Reference for workflow form elements for web applications"},sidebar:"workflow",previous:{title:"Activity Reference",permalink:"/docs/workflow/sdk-mobile-activity-reference"},next:{title:"Reference a Third Party Library",permalink:"/docs/workflow/sdk-mobile-reference-third-party-library"}},s=[{value:"Registering Form Elements",id:"registering-form-elements",children:[]},{value:"Using Form Elements",id:"using-form-elements",children:[]},{value:"Raising Form Events",id:"raising-form-events",children:[]},{value:"Access Properties of Custom Form Elements",id:"access-properties-of-custom-form-elements",children:[]}],a={toc:s};function p({components:e,...t}){return(0,r.kt)("wrapper",(0,o.Z)({},a,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In the VertiGIS Studio Workflow .NET SDK, all custom form elements must implement ",(0,r.kt)("inlineCode",{parentName:"p"},"IFormComponent"),". However, it is typically easier to extend the ",(0,r.kt)("inlineCode",{parentName:"p"},"ContentComponent")," class, which is the recommended practice. The examples shown here extend ",(0,r.kt)("inlineCode",{parentName:"p"},"ContentComponent"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="App1/App1/workflow/CustomFormElement.xaml"',title:'"App1/App1/workflow/CustomFormElement.xaml"'},'<?xml version="1.0" encoding="UTF-8"?>\n<core:ContentComponent xmlns="http://xamarin.com/schemas/2014/forms"\n                       xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"\n                       xmlns:core="clr-namespace:VertiGIS.Mobile.Workflow.Core;assembly=VertiGIS.Mobile.Workflow"\n                       xmlns:views="clr-namespace:VertiGIS.Mobile.Toolkit.Views;assembly=VertiGIS.Mobile.Toolkit"\n                       x:Class="App1.Workflow.CustomFormElement">\n    <Label Text="I\'m a custom form element"/>\n</core:ContentComponent>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs",metastring:'title="App1/App1/workflow/CustomFormElement.xaml.cs"',title:'"App1/App1/workflow/CustomFormElement.xaml.cs"'},"namespace App1.Workflow\n{\n    [XamlCompilation(XamlCompilationOptions.Compile)]\n    public partial class CustomFormElement : ContentComponent\n    {\n        public CustomFormElement(VertiGIS.Workflow.Runtime.Definition.Forms.Element element, string name)\n            : base(element, name)\n        {\n            InitializeComponent();\n        }\n    }\n}\n")),(0,r.kt)("h2",{id:"registering-form-elements"},"Registering Form Elements"),(0,r.kt)("p",null,"Form Elements must be registered through a ",(0,r.kt)("a",{parentName:"p",href:"/docs/workflow/sdk-mobile-activity-reference#registering-activities"},"custom workflow activity that extends ",(0,r.kt)("inlineCode",{parentName:"a"},"RegisterCustomFormElementBase")),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs",metastring:'title="App1/App1/workflow/RegisterComponent.cs"',title:'"App1/App1/workflow/RegisterComponent.cs"'},'[assembly: Export(typeof(RegisterCustomFormElements))]\nnamespace App1.Workflow\n{\n    class RegisterCustomFormElements : RegisterCustomFormElementBase\n    {\n        public const string Action = "CustomFormElement";\n\n        public override Task<IDictionary<string, object>> Execute(IDictionary<string, object> inputs, IActivityContext context)\n        {\n            Register("CustomFormElement", typeof(CustomFormElement), context);\n            return Task.FromResult((IDictionary<string, object>)new Dictionary<string, object>());\n        }\n    }\n}\n')),(0,r.kt)("h2",{id:"using-form-elements"},"Using Form Elements"),(0,r.kt)("p",null,"Custom form elements can be used in a form through the special ",(0,r.kt)("a",{parentName:"p",href:"https://docs.vertigisstudio.com/workflow/latest/help/Default.htm#wf5/help/form-elements/custom.htm#Custom_Form_Elements%3FTocPath%3DForms%7CForm%2520Element%2520Reference%7CCustom%2520Form%2520Elements%7C_____0"},'"custom" form element'),". This form element displays custom form elements by referencing them by the ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," they were registered with."),(0,r.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Custom form elements will ",(0,r.kt)("strong",{parentName:"p"},"only")," be available to a workflow if the form element registration activity is run beforehand. It's best practice to run the form element registration activity at the start of a workflow."))),(0,r.kt)("h2",{id:"raising-form-events"},"Raising Form Events"),(0,r.kt)("p",null,"VertiGIS Studio Workflow form elements can raise ",(0,r.kt)("a",{parentName:"p",href:"https://docs.vertigisstudio.com/workflow/latest/help/Default.htm#wf5/help/forms.htm#Events%3FTocPath%3DForms%7COverview%2520of%2520Forms%7CEvents%7C_____0"},"events"),". A custom form element can also raise events, including a custom event type."),(0,r.kt)("p",null,"Events are raised through the ",(0,r.kt)("inlineCode",{parentName:"p"},"OnEventRaised")," method of the form component. The following custom form element demonstrates how various form events can be raised."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="App1/App1/workflow/CustomFormComponent.xaml"',title:'"App1/App1/workflow/CustomFormComponent.xaml"'},'<?xml version="1.0" encoding="UTF-8"?>\n<core:ContentComponent  xmlns:core="clr-namespace:VertiGIS.Mobile.Workflow.Core;assembly=VertiGIS.Mobile.Workflow"\n                        xmlns="http://xamarin.com/schemas/2014/forms"\n                        xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"\n                        xmlns:views="clr-namespace:VertiGIS.Mobile.Toolkit.Views;assembly=VertiGIS.Mobile.Toolkit"\n                        x:Class="App1.Workflow.CustomFormComponent">\n    <StackLayout>\n        <views:EnhancedButton Text="Raise Clicked Event" Clicked="RaiseClickedEvent"/>\n        <views:EnhancedButton Text="Raise Changed Event" Clicked="RaiseChangedEvent"/>\n        <views:EnhancedButton Text="Raise Custom Event" Clicked="RaiseCustomEvent"/>\n    </StackLayout>\n</core:ContentComponent>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs",metastring:'title="App1/App1/workflow/CustomFormComponent.xaml.cs"',title:'"App1/App1/workflow/CustomFormComponent.xaml.cs"'},'namespace App1.Workflow\n{\n    [XamlCompilation(XamlCompilationOptions.Compile)]\n    public partial class CustomFormComponent : ContentComponent\n    {\n        public CustomFormComponent(VertiGIS.Workflow.Runtime.Definition.Forms.Element element, string name)\n            : base(element, name)\n        {\n            InitializeComponent();\n        }\n\n        private void RaiseClickedEvent(object sender, EventArgs e)\n        {\n            RaiseEvent(new Event()\n            {\n                Type = Event.CLICKED\n            });\n        }\n\n        private void RaiseChangedEvent(object sender, EventArgs e)\n        {\n            RaiseEvent(new Event()\n            {\n                Type = Event.CHANGED\n            });\n        }\n\n        private void RaiseCustomEvent(object sender, EventArgs e)\n        {\n            RaiseEvent(new Event()\n            {\n                Type = Event.CUSTOM,\n                Argument = "Custom Argument"\n            });\n        }\n    }\n}\n')),(0,r.kt)("h2",{id:"access-properties-of-custom-form-elements"},"Access Properties of Custom Form Elements"),(0,r.kt)("p",null,"A custom form element may produce a value that a workflow needs to access at runtime. You can set a property on the ",(0,r.kt)("inlineCode",{parentName:"p"},"this.Element")," object to expose that value to the form."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="App1/App1/workflow/CustomFormComponent.xaml"',title:'"App1/App1/workflow/CustomFormComponent.xaml"'},'<?xml version="1.0" encoding="UTF-8"?>\n<core:ContentComponent  xmlns:core="clr-namespace:VertiGIS.Mobile.Workflow.Core;assembly=VertiGIS.Mobile.Workflow"\n                        xmlns="http://xamarin.com/schemas/2014/forms"\n                        xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"\n                        xmlns:views="clr-namespace:VertiGIS.Mobile.Toolkit.Views;assembly=VertiGIS.Mobile.Toolkit"\n                        x:Class="App1.Workflow.CustomFormComponent">\n    <StackLayout>\n        <Label>\n            <Label.FormattedText>\n                <FormattedString>\n                    <Span Text="This form element has a value of: "/>\n                    <Span Text="{Binding Element.Value}"/>\n                </FormattedString>\n            </Label.FormattedText>\n        </Label>\n    </StackLayout>\n</core:ContentComponent>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs",metastring:'title="App1/App1/workflow/CustomFormComponent.xaml.cs"',title:'"App1/App1/workflow/CustomFormComponent.xaml.cs"'},"namespace App1.Workflow\n{\n    [XamlCompilation(XamlCompilationOptions.Compile)]\n    public partial class CustomFormComponent : ContentComponent\n    {\n        public CustomFormComponent(VertiGIS.Workflow.Runtime.Definition.Forms.Element element, string name)\n            : base(element, name)\n        {\n            BindingContext = this;\n            Element.Value = 42;\n            InitializeComponent();\n        }\n    }\n}\n")),(0,r.kt)("p",null,"You can then use the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.vertigisstudio.com/workflow/latest/help/Default.htm#wf5/help/activities/get-form-element-property.htm"},"Get Form Element Property")," activity to access the ",(0,r.kt)("inlineCode",{parentName:"p"},"Value")," property, along with ",(0,r.kt)("a",{parentName:"p",href:"https://docs.vertigisstudio.com/workflow/latest/help/Default.htm#wf5/help/form-elements/custom.htm#Custom_Form_Element_Properties%3FTocPath%3DForms%7CForm%2520Element%2520Reference%7CCustom%2520Form%2520Elements%7C_____1"},"other properties supported by custom form elements"),"."))}p.isMDXComponent=!0}}]);