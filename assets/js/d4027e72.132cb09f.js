"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[4288,3131,3381],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||o;return n?i.createElement(h,r(r({ref:t},d),{},{components:n})):i.createElement(h,r({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var p=2;p<o;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3919:(e,t,n)=>{function i(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!i(e)}n.d(t,{Z:()=>a,b:()=>i})},4996:(e,t,n)=>{n.d(t,{C:()=>o,Z:()=>r});var i=n(2263),a=n(3919);function o(){const{siteConfig:{baseUrl:e="/",url:t}={}}=(0,i.Z)();return{withBaseUrl:(n,i)=>function(e,t,n,{forcePrependBaseUrl:i=!1,absolute:o=!1}={}){if(!n)return n;if(n.startsWith("#"))return n;if((0,a.b)(n))return n;if(i)return t+n;const r=n.startsWith(t)?n:t+n.replace(/^\//,"");return o?e+r:r}(t,e,n,i)}}function r(e,t={}){const{withBaseUrl:n}=o();return n(e,t)}},8215:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(7294);const a=function({children:e,hidden:t,className:n}){return i.createElement("div",{role:"tabpanel",hidden:t,className:n},e)}},1395:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(7294),a=n(944),o=n(6010);const r="tabItem_1uMI",l="tabItemActive_2DSg";const s=37,p=39;const d=function(e){const{lazy:t,block:n,defaultValue:d,values:c,groupId:u,className:m}=e,{tabGroupChoices:h,setTabGroupChoices:v}=(0,a.Z)(),[f,k]=(0,i.useState)(d),g=i.Children.toArray(e.children),w=[];if(null!=u){const e=h[u];null!=e&&e!==f&&c.some((t=>t.value===e))&&k(e)}const b=e=>{const t=e.currentTarget,n=w.indexOf(t),i=c[n].value;k(i),null!=u&&(v(u,i),setTimeout((()=>{(function(e){const{top:t,left:n,bottom:i,right:a}=e.getBoundingClientRect(),{innerHeight:o,innerWidth:r}=window;return t>=0&&a<=r&&i<=o&&n>=0})(t)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(l),setTimeout((()=>t.classList.remove(l)),2e3))}),150))},y=e=>{var t;let n;switch(e.keyCode){case p:{const t=w.indexOf(e.target)+1;n=w[t]||w[0];break}case s:{const t=w.indexOf(e.target)-1;n=w[t]||w[w.length-1];break}}null==(t=n)||t.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},m)},c.map((({value:e,label:t})=>i.createElement("li",{role:"tab",tabIndex:f===e?0:-1,"aria-selected":f===e,className:(0,o.Z)("tabs__item",r,{"tabs__item--active":f===e}),key:e,ref:e=>w.push(e),onKeyDown:y,onFocus:b,onClick:b},t)))),t?(0,i.cloneElement)(g.filter((e=>e.props.value===f))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},g.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==f})))))}},9443:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(7294).createContext)(void 0)},944:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(7294),a=n(9443);const o=function(){const e=(0,i.useContext)(a.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e}},5441:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var i=n(7462),a=(n(7294),n(3905)),o=n(4996);n(1395),n(8215),n(6088),n(3923);const r={title:"App Initialization Events",description:"VertiGIS Studio Web - Key event hooks during app initialization and how to use them"},l=void 0,s={unversionedId:"web/app-initialization-events",id:"web/app-initialization-events",isDocsHomePage:!1,title:"App Initialization Events",description:"VertiGIS Studio Web - Key event hooks during app initialization and how to use them",source:"@site/docs/web/app-initialization-events.mdx",sourceDirName:"web",slug:"/web/app-initialization-events",permalink:"/docs/web/app-initialization-events",editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/app-initialization-events.mdx",version:"current",frontMatter:{title:"App Initialization Events",description:"VertiGIS Studio Web - Key event hooks during app initialization and how to use them"},sidebar:"web",previous:{title:"Commands and Operations",permalink:"/docs/web/configuration-commands-operations"},next:{title:"Configure Button Click Behavior",permalink:"/docs/web/tutorial-configure-button-click"}},p=[{value:"App and Layout Initialization Events",id:"app-and-layout-initialization-events",children:[{value:"onInitializing",id:"oninitializing",children:[]},{value:"onLayoutLoading",id:"onlayoutloading",children:[]},{value:"onLayoutLoaded",id:"onlayoutloaded",children:[]},{value:"onInitialized",id:"oninitialized",children:[]},{value:"Startup Action",id:"startup-action",children:[]}]},{value:"Startup Services",id:"startup-services",children:[]},{value:"Configuration Locations in Designer",id:"configuration-locations-in-designer",children:[{value:"App and Layout Event Locations",id:"app-and-layout-event-locations",children:[]},{value:"Startup Workflow Locations",id:"startup-workflow-locations",children:[]}]}],d={toc:p};function c({components:e,...t}){return(0,a.kt)("wrapper",(0,i.Z)({},d,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Several different events occurs when an app is initializing. Understanding when these events happen, what has already loaded, and what has not is key to using them effectively."),(0,a.kt)("h2",{id:"app-and-layout-initialization-events"},"App and Layout Initialization Events"),(0,a.kt)("h3",{id:"oninitializing"},"onInitializing"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onInitializing")," is called ",(0,a.kt)("em",{parentName:"p"},"during")," the initialization process at a time when Web has been initialized in code but has not yet loaded the current layout. Use this to perform startup tasks that do not require interaction with the UI or maps."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Custom libraries and all startup services have been loaded at this point. The message bus has been created and initialized."),(0,a.kt)("li",{parentName:"ul"},"Other services, components, icons, tools and language resources have been registered and instances may be created. The locale has been set."),(0,a.kt)("li",{parentName:"ul"},"The application state has been created and security/licensing has been validated."),(0,a.kt)("li",{parentName:"ul"},"The layout has not been loaded yet. This is an ideal event to use to gather client information and choose an appropriate layout."),(0,a.kt)("li",{parentName:"ul"},"Maps have not been initialized yet and no layers are available.")),(0,a.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"If your command chain or workflow attempt to reference UI elements or the map, your application will fail to load in Designer. Modify the workflow, or use Item Manager to remove the command chain to regain access to the Designer interface."))),(0,a.kt)("h3",{id:"onlayoutloading"},"onLayoutLoading"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"onLayoutLoading")," events are similar to ",(0,a.kt)("inlineCode",{parentName:"p"},"onInitializing")," but at this point the layout has also been loaded in code."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Nothing has been rendered yet."),(0,a.kt)("li",{parentName:"ul"},"All ",(0,a.kt)("inlineCode",{parentName:"li"},"onInitializing")," tasks have now been run."),(0,a.kt)("li",{parentName:"ul"},"In a multi-layout app, each layout event can be configured separately."),(0,a.kt)("li",{parentName:"ul"},"This will also fire on its own when switching layouts.")),(0,a.kt)("h3",{id:"onlayoutloaded"},"onLayoutLoaded"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onLayoutLoaded")," is called after the layout has now been loaded in the DOM."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"onLayoutLoaded")," is the very last thing to execute before the ",(0,a.kt)("inlineCode",{parentName:"li"},"onInitialized")," tasks are run."),(0,a.kt)("li",{parentName:"ul"},"In a multi-layout app, each layout event can be configured separately."),(0,a.kt)("li",{parentName:"ul"},"This will also fire on its own when switching layouts.")),(0,a.kt)("h3",{id:"oninitialized"},"onInitialized"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onInitialized")," is called after the layout is loaded. Tasks which require interaction with maps, layers, or any other UI element may now begin to execute."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The initial layout is loaded and present in the DOM. All startup components are visible to the user."),(0,a.kt)("li",{parentName:"ul"},"The map and layers are initialized but the map view is not yet loaded."),(0,a.kt)("li",{parentName:"ul"},"Use the ",(0,a.kt)("inlineCode",{parentName:"li"},"onInitialized")," supplied by the Map component if you need to wait for the view.")),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Although the map and layers have been initialized, some map-based commands will fail if they rely upon the map view. Consider using the Map Initialized event to ensure all aspects of hte map are loaded and ready."))),(0,a.kt)("h3",{id:"startup-action"},"Startup Action"),(0,a.kt)("p",null,"The configured ",(0,a.kt)("inlineCode",{parentName:"p"},"startupAction")," will be executed directly after ",(0,a.kt)("inlineCode",{parentName:"p"},"onInitialized"),". If a startup workflow is configured, this is when it will be run."),(0,a.kt)("h2",{id:"startup-services"},"Startup Services"),(0,a.kt)("p",null,"Most services are lazily loaded, but any service with ",(0,a.kt)("inlineCode",{parentName:"p"},"loadOnStartup")," set will be loaded and ready before ",(0,a.kt)("inlineCode",{parentName:"p"},"onInitializing")," fires. This includes custom services."),(0,a.kt)("p",null,"By default, the following services are loaded at startup in Web:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Authentication Service"),(0,a.kt)("li",{parentName:"ul"},"Branding Service"),(0,a.kt)("li",{parentName:"ul"},"Landmark Service"),(0,a.kt)("li",{parentName:"ul"},"Licensing Service"),(0,a.kt)("li",{parentName:"ul"},"Message Bus Service"),(0,a.kt)("li",{parentName:"ul"},"UI Service"),(0,a.kt)("li",{parentName:"ul"},"User Preferences Service"),(0,a.kt)("li",{parentName:"ul"},"Workflow Service")),(0,a.kt)("h2",{id:"configuration-locations-in-designer"},"Configuration Locations in Designer"),(0,a.kt)("h3",{id:"app-and-layout-event-locations"},"App and Layout Event Locations"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'The onInitializing app event is configured from the App Service as "Application Initializing"'),(0,a.kt)("li",{parentName:"ul"},'The onInitialized app event is configured from the App Service as "Application Initialized"'),(0,a.kt)("li",{parentName:"ul"},'The onLayoutLoading event is configured per layout from the App Service as "Layout Loading"'),(0,a.kt)("li",{parentName:"ul"},'The onLayoutLoaded event is configured per layout from the App Service as "Layout Loaded"')),(0,a.kt)("h3",{id:"startup-workflow-locations"},"Startup Workflow Locations"),(0,a.kt)("p",null,"Startup Workflows are configured in the Launch Link Workflows Service"),(0,a.kt)("p",null,"Startup workflows are invoked directly in the app URL using ",(0,a.kt)("inlineCode",{parentName:"p"},"&workflow=")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"&workflowParams="),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"e.g. https://apps.vertigisstudio.com/web/?app=918287c900564701b5a414c506fc405e&workflow=g4904c61-6532-4b0d-a231-5ba441782704&workflowParams={}\n")),(0,a.kt)("p",null,"The correct URL parameters for a startup workflow can be generated using the Get Links action in the three-dot menu on any Deploy environment in Designer."),(0,a.kt)("img",{src:(0,o.Z)("img/web-get-links-menu.png")}),(0,a.kt)("img",{src:(0,o.Z)("img/web-get-links-dialog.png")}))}c.isMDXComponent=!0},3923:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var i=n(7462),a=(n(7294),n(3905));const o={},r=void 0,l={unversionedId:"web/snippets/framework-components",id:"web/snippets/framework-components",isDocsHomePage:!1,title:"framework-components",description:"This example uses VertiGIS Studio Web layout components",source:"@site/docs/web/snippets/framework-components.mdx",sourceDirName:"web/snippets",slug:"/web/snippets/framework-components",permalink:"/docs/web/snippets/framework-components",editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/snippets/framework-components.mdx",version:"current",frontMatter:{}},s=[],p={toc:s};function d({components:e,...t}){return(0,a.kt)("wrapper",(0,i.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"This example uses VertiGIS Studio Web layout components"))))}d.isMDXComponent=!0},6088:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var i=n(7462),a=(n(7294),n(3905));const o={},r=void 0,l={unversionedId:"web/snippets/prereqs-custom-code",id:"web/snippets/prereqs-custom-code",isDocsHomePage:!1,title:"prereqs-custom-code",description:"-   Download and setup the VertiGIS Studio Web SDK.",source:"@site/docs/web/snippets/prereqs-custom-code.mdx",sourceDirName:"web/snippets",slug:"/web/snippets/prereqs-custom-code",permalink:"/docs/web/snippets/prereqs-custom-code",editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/snippets/prereqs-custom-code.mdx",version:"current",frontMatter:{}},s=[],p={toc:s};function d({components:e,...t}){return(0,a.kt)("wrapper",(0,i.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Download and setup the ",(0,a.kt)("a",{parentName:"li",href:"/docs/web/sdk-overview"},"VertiGIS Studio Web SDK"),"."),(0,a.kt)("li",{parentName:"ul"},"Check out the ",(0,a.kt)("a",{parentName:"li",href:"/docs/web/sdk-deployment#uploading-custom-code-to-an-app"},"deployment instructions")," to learn more about deploying custom code to a VertiGIS Studio Web App.")))}d.isMDXComponent=!0},6010:(e,t,n)=>{function i(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{Z:()=>a})}}]);