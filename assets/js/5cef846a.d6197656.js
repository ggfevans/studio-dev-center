(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[8e3],{3905:(e,t,i)=>{"use strict";i.d(t,{Zo:()=>u,kt:()=>m});var r=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var s=r.createContext({}),l=function(e){var t=r.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},u=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var i=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(i),m=n,v=p["".concat(s,".").concat(m)]||p[m]||d[m]||a;return i?r.createElement(v,o(o({ref:t},u),{},{components:i})):r.createElement(v,o({ref:t},u))}));function m(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=i.length,o=new Array(a);o[0]=p;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var l=2;l<a;l++)o[l]=i[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,i)}p.displayName="MDXCreateElement"},6742:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var r=i(7294),n=i(3727),a=i(2263),o=i(3919),c=i(412);const s=(0,r.createContext)({collectLink:()=>{}});var l=i(4996),u=i(8780);const d=function({isNavLink:e,to:t,href:i,activeClassName:d,isActive:p,"data-noBrokenLinkCheck":m,autoAddBaseUrl:v=!0,...f}){var y;const{siteConfig:{trailingSlash:h}}=(0,a.Z)(),{withBaseUrl:w}=(0,l.C)(),k=(0,r.useContext)(s),b=t||i,g=(0,o.Z)(b),C=null==b?void 0:b.replace("pathname://","");let N=void 0!==C?(O=C,v&&(e=>e.startsWith("/"))(O)?w(O):O):void 0;var O;N&&g&&(N=(0,u.applyTrailingSlash)(N,h));const S=(0,r.useRef)(!1),A=e?n.OL:n.rU,x=c.Z.canUseIntersectionObserver;let _;(0,r.useEffect)((()=>(!x&&g&&null!=N&&window.docusaurus.prefetch(N),()=>{x&&_&&_.disconnect()})),[N,x,g]);const P=null!==(y=null==N?void 0:N.startsWith("#"))&&void 0!==y&&y,T=!N||!g||P;return N&&g&&!P&&!m&&k.collectLink(N),T?r.createElement("a",{href:N,...b&&!g&&{target:"_blank",rel:"noopener noreferrer"},...f}):r.createElement(A,{...f,onMouseEnter:()=>{S.current||null==N||(window.docusaurus.preload(N),S.current=!0)},innerRef:e=>{var t,i;x&&e&&g&&(t=e,i=()=>{null!=N&&window.docusaurus.prefetch(N)},_=new window.IntersectionObserver((e=>{e.forEach((e=>{t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(_.unobserve(t),_.disconnect(),i())}))})),_.observe(t))},to:N||"",...e&&{isActive:p,activeClassName:d}})}},3919:(e,t,i)=>{"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function n(e){return void 0!==e&&!r(e)}i.d(t,{b:()=>r,Z:()=>n})},4996:(e,t,i)=>{"use strict";i.d(t,{C:()=>a,Z:()=>o});var r=i(2263),n=i(3919);function a(){const{siteConfig:{baseUrl:e="/",url:t}={}}=(0,r.Z)();return{withBaseUrl:(i,r)=>function(e,t,i,{forcePrependBaseUrl:r=!1,absolute:a=!1}={}){if(!i)return i;if(i.startsWith("#"))return i;if((0,n.b)(i))return i;if(r)return t+i;const o=i.startsWith(t)?i:t+i.replace(/^\//,"");return a?e+o:o}(t,e,i,r)}}function o(e,t={}){const{withBaseUrl:i}=a();return i(e,t)}},8802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.startsWith("#"))return e;if(void 0===t)return e;const[i]=e.split(/[#?]/),r="/"===i?"/":t?(n=i).endsWith("/")?n:`${n}/`:function(e){return e.endsWith("/")?e.slice(0,-1):e}(i);var n;return e.replace(i,r)}},8780:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.uniq=t.applyTrailingSlash=void 0;var n=i(8802);Object.defineProperty(t,"applyTrailingSlash",{enumerable:!0,get:function(){return r(n).default}});var a=i(9964);Object.defineProperty(t,"uniq",{enumerable:!0,get:function(){return r(a).default}})},9964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.from(new Set(e))}},1962:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r=i(6742),n=i(7294),a=i(6010);const o="root_2PFE";function c({title:e,description:t,link:i}){return n.createElement("div",{className:(0,a.Z)("card-demo",o)},n.createElement("div",{className:"card"},n.createElement("div",{className:"card__header"},n.createElement("h3",null,e)),n.createElement("div",{className:"card__body"},n.createElement("p",null,t)),n.createElement("div",{className:"card__footer"},n.createElement(r.Z,{className:"button button--secondary button--block",to:i},"Get Started"))))}},7763:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(7294);const n="root_NqT0";function a({children:e}){return r.createElement("div",{className:n},e)}},2621:(e,t,i)=>{"use strict";i.r(t),i.d(t,{frontMatter:()=>s,contentTitle:()=>l,metadata:()=>u,toc:()=>d,default:()=>m});var r=i(2122),n=(i(7294),i(3905)),a=i(4996),o=i(7763),c=i(1962);const s={title:"Create an Activity",description:"VertiGIS Studio Workflow - Create a workflow activity for web applications"},l=void 0,u={unversionedId:"workflow/sdk-web-create-activity",id:"workflow/sdk-web-create-activity",isDocsHomePage:!1,title:"Create an Activity",description:"VertiGIS Studio Workflow - Create a workflow activity for web applications",source:"@site/docs/workflow/sdk-web-create-activity.mdx",sourceDirName:"workflow",slug:"/workflow/sdk-web-create-activity",permalink:"/docs/workflow/sdk-web-create-activity",editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/workflow/sdk-web-create-activity.mdx",version:"current",frontMatter:{title:"Create an Activity",description:"VertiGIS Studio Workflow - Create a workflow activity for web applications"},sidebar:"workflow",previous:{title:"SDK Overview",permalink:"/docs/workflow/sdk-web-overview"},next:{title:"Create a Form Element",permalink:"/docs/workflow/sdk-web-create-element"}},d=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Create an Activity",id:"create-an-activity",children:[]},{value:"Deploy the Activity",id:"deploy-the-activity",children:[]},{value:"Test the Activity",id:"test-the-activity",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],p={toc:d};function m({components:e,...t}){return(0,n.kt)("wrapper",(0,r.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"This article will walk you through creating a new workflow activity for web applications."),(0,n.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/docs/workflow/sdk-web-overview#overview"},"Set up")," the VertiGIS Studio Workflow TypeScript SDK."),(0,n.kt)("h2",{id:"create-an-activity"},"Create an Activity"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Open up a terminal shell in the project folder."),(0,n.kt)("li",{parentName:"ol"},"Run the command ",(0,n.kt)("inlineCode",{parentName:"li"},"npm run generate")," and follow the instructions to create a new activity named ",(0,n.kt)("inlineCode",{parentName:"li"},"MyCustomActivity"),". This script creates a custom activity skeleton that you can build on with your own custom logic. The script will perform the following operations:",(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Create a new activity ",(0,n.kt)("inlineCode",{parentName:"li"},".ts")," file with the provided name in the ",(0,n.kt)("inlineCode",{parentName:"li"},"src/activities")," folder."),(0,n.kt)("li",{parentName:"ol"},"Populate the activity ",(0,n.kt)("inlineCode",{parentName:"li"},".ts")," file from an activity template."),(0,n.kt)("li",{parentName:"ol"},"Register the activity in ",(0,n.kt)("inlineCode",{parentName:"li"},"src/index.ts"),".")))),(0,n.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"It's convention to use PascalCase for activity names. You can add multiple activities and form elements to the same project.\nThe name of your activity should not be modified after it has been deployed, as it is a unique identifier used by the Workflow runtime."))),(0,n.kt)("p",null,"In the VertiGIS Studio Workflow TypeScript SDK, activities are represented as simple classes with an ",(0,n.kt)("inlineCode",{parentName:"p"},"execute")," method."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},'/**\n * @displayName MyCustomActivity\n * @category Custom Activities\n */\nexport class MyCustomActivity implements IActivityHandler {\n    /** Perform the execution logic of the activity. */\n    async execute(\n        inputs: MyCustomActivityInputs\n    ): Promise<MyCustomActivityOutputs> {\n        return { result: "test" };\n    }\n}\n')),(0,n.kt)("h2",{id:"deploy-the-activity"},"Deploy the Activity"),(0,n.kt)("p",null,"Follow the instructions to ",(0,n.kt)("a",{parentName:"p",href:"/docs/workflow/sdk-web-overview#deployment"},"deploy the activity pack"),"."),(0,n.kt)("h2",{id:"test-the-activity"},"Test the Activity"),(0,n.kt)("p",null,"Once your activity pack is hosted and registered, your custom activity should appear in the activity toolbox in VertiGIS Studio Workflow Designer alongside the built-in activities, and can be used in the graphical interface like any other activity."),(0,n.kt)("p",null,"Now you can ",(0,n.kt)("a",{parentName:"p",href:"https://docs.vertigisstudio.com/workflow/latest/help/Default.htm#wf5/help/get-started.htm#Get_Started%3FTocPath%3DGet%2520Started%7C_____0"},"build a workflow")," that uses your new custom activity!"),(0,n.kt)("h2",{id:"next-steps"},"Next Steps"),(0,n.kt)(o.Z,{mdxType:"UseCaseContainer"},(0,n.kt)(c.Z,{title:"Calculate a Logarithm with a Custom Activity",description:"Implement a custom activity that calculates the logarithm of a number",link:(0,a.Z)("docs/workflow/tutorial-web-calculate-logarithm-activity"),mdxType:"UseCaseCard"}),(0,n.kt)(c.Z,{title:"Activity Reference",description:"Learn more about implementing custom activities",link:(0,a.Z)("docs/workflow/sdk-web-activity-reference"),mdxType:"UseCaseCard"}),(0,n.kt)(c.Z,{title:"Add a Layer to the Map with a Custom Activity",description:"Access application properties like the map in custom activities for Web Applications",link:(0,a.Z)("docs/workflow/tutorial-web-add-layer-to-map"),mdxType:"UseCaseCard"}),(0,n.kt)(c.Z,{title:"Use the ArcGIS API for JavaScript in an activity.",description:"Use the ArcGIS API for TypeScript in an activity or form element",link:(0,a.Z)("docs/workflow/sdk-web-integrating-the-arcgis-api"),mdxType:"UseCaseCard"})))}m.isMDXComponent=!0},6010:(e,t,i)=>{"use strict";function r(e){var t,i,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=r(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function n(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}i.d(t,{Z:()=>n})}}]);