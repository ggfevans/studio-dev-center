"use strict";(globalThis.webpackChunkvertigis_studio_dev_center=globalThis.webpackChunkvertigis_studio_dev_center||[]).push([[4288,3131,3381],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(n),m=i,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return n?a.createElement(h,r(r({ref:t},p),{},{components:n})):a.createElement(h,r({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:i,r[1]=l;for(var u=2;u<o;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294),i=n(6010);const o={tabItem:"tabItem_Ymn6"};function r(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(o.tabItem,r),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(7462),i=n(7294),o=n(6010),r=n(2466),l=n(6550),s=n(1980),u=n(7392),p=n(12);function c(e){return function(e){return i.Children.map(e,(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:i}}=e;return{value:t,label:n,attributes:a,default:i}}))}function d(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??c(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(o),(0,i.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(a.location.search);t.set(o,e),a.replace({...a.location,search:t.toString()})}),[o,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=d(e),[r,l]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[s,u]=h({queryString:n,groupId:a}),[c,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,o]=(0,p.Nk)(n);return[a,(0,i.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:a}),v=(()=>{const e=s??c;return m({value:e,tabValues:o})?e:null})();(0,i.useLayoutEffect)((()=>{v&&l(v)}),[v]);return{selectedValue:r,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,o]),tabValues:o}}var v=n(2389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:u}=e;const p=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.o5)(),d=e=>{const t=e.currentTarget,n=p.indexOf(t),a=u[n].value;a!==l&&(c(t),s(a))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=p.indexOf(e.currentTarget)+1;t=p[n]??p[0];break}case"ArrowLeft":{const n=p.indexOf(e.currentTarget)-1;t=p[n]??p[p.length-1];break}}t?.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:r}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>p.push(e),onKeyDown:m,onClick:d},r,{className:(0,o.Z)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":l===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:a}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function g(e){const t=f(e);return i.createElement("div",{className:(0,o.Z)("tabs-container",b.tabList)},i.createElement(k,(0,a.Z)({},e,t)),i.createElement(y,(0,a.Z)({},e,t)))}function w(e){const t=(0,v.Z)();return i.createElement(g,(0,a.Z)({key:String(t)},e))}},9117:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=n(7462),i=(n(7294),n(3905)),o=n(4996);n(4866),n(5162),n(9190),n(7840);const r={title:"App Initialization Events",description:"VertiGIS Studio Web - Key event hooks during app initialization and how to use them"},l=void 0,s={unversionedId:"web/app-initialization-events",id:"web/app-initialization-events",title:"App Initialization Events",description:"VertiGIS Studio Web - Key event hooks during app initialization and how to use them",source:"@site/docs/web/app-initialization-events.mdx",sourceDirName:"web",slug:"/web/app-initialization-events",permalink:"/docs/web/app-initialization-events",draft:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/app-initialization-events.mdx",tags:[],version:"current",frontMatter:{title:"App Initialization Events",description:"VertiGIS Studio Web - Key event hooks during app initialization and how to use them"},sidebar:"web",previous:{title:"Commands and Operations",permalink:"/docs/web/configuration-commands-operations"},next:{title:"Configure Button Click Behavior",permalink:"/docs/web/tutorial-configure-button-click"}},u={},p=[{value:"App and Layout Initialization Events",id:"app-and-layout-initialization-events",level:2},{value:"onInitializing",id:"oninitializing",level:3},{value:"onLayoutLoading",id:"onlayoutloading",level:3},{value:"onLayoutLoaded",id:"onlayoutloaded",level:3},{value:"onInitialized",id:"oninitialized",level:3},{value:"Startup Action",id:"startup-action",level:3},{value:"Startup Services",id:"startup-services",level:2},{value:"Configuration Locations in Designer",id:"configuration-locations-in-designer",level:2},{value:"App and Layout Event Locations",id:"app-and-layout-event-locations",level:3},{value:"Startup Workflow Locations",id:"startup-workflow-locations",level:3}],c={toc:p},d="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Several different events occurs when an app is initializing. Understanding when these events happen, what has already loaded, and what has not is key to using them effectively."),(0,i.kt)("h2",{id:"app-and-layout-initialization-events"},"App and Layout Initialization Events"),(0,i.kt)("h3",{id:"oninitializing"},"onInitializing"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"onInitializing")," is called ",(0,i.kt)("em",{parentName:"p"},"during")," the initialization process at a time when Web has been initialized in code but has not yet loaded the current layout. Use this to perform startup tasks that do not require interaction with the UI or maps."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Custom libraries and all startup services have been loaded at this point. The message bus has been created and initialized."),(0,i.kt)("li",{parentName:"ul"},"Other services, components, icons, tools and language resources have been registered and instances may be created. The locale has been set."),(0,i.kt)("li",{parentName:"ul"},"The application state has been created and security/licensing has been validated."),(0,i.kt)("li",{parentName:"ul"},"The layout has not been loaded yet. This is an ideal event to use to gather client information and choose an appropriate layout."),(0,i.kt)("li",{parentName:"ul"},"Maps have not been initialized yet and no layers are available.")),(0,i.kt)("admonition",{title:"Important",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If your command chain or workflow attempt to reference UI elements or the map, your application will fail to load in Designer. Modify the workflow, or use Item Manager to remove the command chain to regain access to the Designer interface.")),(0,i.kt)("h3",{id:"onlayoutloading"},"onLayoutLoading"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"onLayoutLoading")," events are similar to ",(0,i.kt)("inlineCode",{parentName:"p"},"onInitializing")," but at this point the layout has also been loaded in code."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Nothing has been rendered yet."),(0,i.kt)("li",{parentName:"ul"},"All ",(0,i.kt)("inlineCode",{parentName:"li"},"onInitializing")," tasks have now been run."),(0,i.kt)("li",{parentName:"ul"},"In a multi-layout app, each layout event can be configured separately."),(0,i.kt)("li",{parentName:"ul"},"This will also fire on its own when switching layouts.")),(0,i.kt)("h3",{id:"onlayoutloaded"},"onLayoutLoaded"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"onLayoutLoaded")," is called after the layout has now been loaded in the DOM."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"onLayoutLoaded")," is the very last thing to execute before the ",(0,i.kt)("inlineCode",{parentName:"li"},"onInitialized")," tasks are run."),(0,i.kt)("li",{parentName:"ul"},"In a multi-layout app, each layout event can be configured separately."),(0,i.kt)("li",{parentName:"ul"},"This will also fire on its own when switching layouts.")),(0,i.kt)("h3",{id:"oninitialized"},"onInitialized"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"onInitialized")," is called after the layout is loaded. Tasks which require interaction with maps, layers, or any other UI element may now begin to execute."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The initial layout is loaded and present in the DOM. All startup components are visible to the user."),(0,i.kt)("li",{parentName:"ul"},"The map and layers are initialized but the map view is not yet loaded."),(0,i.kt)("li",{parentName:"ul"},"Use the ",(0,i.kt)("inlineCode",{parentName:"li"},"onInitialized")," supplied by the Map component if you need to wait for the view.")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Although the map and layers have been initialized, some map-based commands will fail if they rely upon the map view. Consider using the Map Initialized event to ensure all aspects of hte map are loaded and ready.")),(0,i.kt)("h3",{id:"startup-action"},"Startup Action"),(0,i.kt)("p",null,"The configured ",(0,i.kt)("inlineCode",{parentName:"p"},"startupAction")," will be executed directly after ",(0,i.kt)("inlineCode",{parentName:"p"},"onInitialized"),". If a startup workflow is configured, this is when it will be run."),(0,i.kt)("h2",{id:"startup-services"},"Startup Services"),(0,i.kt)("p",null,"Most services are lazily loaded, but any service with ",(0,i.kt)("inlineCode",{parentName:"p"},"loadOnStartup")," set will be loaded and ready before ",(0,i.kt)("inlineCode",{parentName:"p"},"onInitializing")," fires. This includes custom services."),(0,i.kt)("p",null,"By default, the following services are loaded at startup in Web:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Authentication Service"),(0,i.kt)("li",{parentName:"ul"},"Branding Service"),(0,i.kt)("li",{parentName:"ul"},"Landmark Service"),(0,i.kt)("li",{parentName:"ul"},"Licensing Service"),(0,i.kt)("li",{parentName:"ul"},"Message Bus Service"),(0,i.kt)("li",{parentName:"ul"},"UI Service"),(0,i.kt)("li",{parentName:"ul"},"User Preferences Service"),(0,i.kt)("li",{parentName:"ul"},"Workflow Service")),(0,i.kt)("h2",{id:"configuration-locations-in-designer"},"Configuration Locations in Designer"),(0,i.kt)("h3",{id:"app-and-layout-event-locations"},"App and Layout Event Locations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'The onInitializing app event is configured from the App Service as "Application Initializing"'),(0,i.kt)("li",{parentName:"ul"},'The onInitialized app event is configured from the App Service as "Application Initialized"'),(0,i.kt)("li",{parentName:"ul"},'The onLayoutLoading event is configured per layout from the App Service as "Layout Loading"'),(0,i.kt)("li",{parentName:"ul"},'The onLayoutLoaded event is configured per layout from the App Service as "Layout Loaded"')),(0,i.kt)("h3",{id:"startup-workflow-locations"},"Startup Workflow Locations"),(0,i.kt)("p",null,"Startup Workflows are configured in the Launch Link Workflows Service"),(0,i.kt)("p",null,"Startup workflows are invoked directly in the app URL using ",(0,i.kt)("inlineCode",{parentName:"p"},"&workflow=")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"&workflowParams="),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"e.g. https://apps.vertigisstudio.com/web/?app=918287c900564701b5a414c506fc405e&workflow=g4904c61-6532-4b0d-a231-5ba441782704&workflowParams={}\n")),(0,i.kt)("p",null,"The correct URL parameters for a startup workflow can be generated using the Get Links action in the three-dot menu on any Deploy environment in Designer."),(0,i.kt)("img",{src:(0,o.Z)("img/web-get-links-menu.png")}),(0,i.kt)("img",{src:(0,o.Z)("img/web-get-links-dialog.png")}))}m.isMDXComponent=!0},7840:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(7462),i=(n(7294),n(3905));const o={},r=void 0,l={unversionedId:"web/snippets/framework-components",id:"web/snippets/framework-components",title:"framework-components",description:"This example uses VertiGIS Studio Web layout components",source:"@site/docs/web/snippets/framework-components.mdx",sourceDirName:"web/snippets",slug:"/web/snippets/framework-components",permalink:"/docs/web/snippets/framework-components",draft:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/snippets/framework-components.mdx",tags:[],version:"current",frontMatter:{}},s={},u=[],p={toc:u},c="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This example uses VertiGIS Studio Web layout components")))}d.isMDXComponent=!0},9190:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(7462),i=(n(7294),n(3905));const o={},r=void 0,l={unversionedId:"web/snippets/prereqs-custom-code",id:"web/snippets/prereqs-custom-code",title:"prereqs-custom-code",description:"-   Download and setup the VertiGIS Studio Web SDK.",source:"@site/docs/web/snippets/prereqs-custom-code.mdx",sourceDirName:"web/snippets",slug:"/web/snippets/prereqs-custom-code",permalink:"/docs/web/snippets/prereqs-custom-code",draft:!1,editUrl:"https://github.com/vertigis/studio-dev-center/edit/master/docs/web/snippets/prereqs-custom-code.mdx",tags:[],version:"current",frontMatter:{}},s={},u=[],p={toc:u},c="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Download and setup the ",(0,i.kt)("a",{parentName:"li",href:"/docs/web/sdk-overview"},"VertiGIS Studio Web SDK"),"."),(0,i.kt)("li",{parentName:"ul"},"Check out the ",(0,i.kt)("a",{parentName:"li",href:"/docs/web/sdk-deployment#uploading-custom-code-to-an-app"},"deployment instructions")," to learn more about deploying custom code to a VertiGIS Studio Web App.")))}d.isMDXComponent=!0}}]);